app:
  baseUrl: http://127.0.0.1:3000

backend:
  baseUrl: http://127.0.0.1:7007
  listen: ":${BACKEND_PORT}"
  cors:
    origin: http://127.0.0.1:3000
    methods: [GET, HEAD, PATCH, POST, PUT, DELETE]
    credentials: true

  database:
    client: better-sqlite3
    connection: ':memory:'

techdocs:
  builder: 'local' # Alternatives - 'external'
  generator:
    runIn: 'local'
    # runIn: 'docker' # Alternatives - 'local'
    # dockerImage: 'spotify/techdocs'
    # pullImage: true
    # mkdocs:
    #   omitTechdocsCorePlugin: false
    #   legacyCopyReadmeMdToIndexMd: false
    #   defaultPlugins: ['techdocs-core']
  publisher:
    type: 'local' #local # Alternatives - 'googleGcs' or 'awsS3'. Read documentation for using alternatives.
    local:
      publishDirectory: '/Users/bhagatv/published-techdocs'
    # type: 'awsS3'
    # awsS3:
    #   bucketName: 'vgsl-sandbox-sandbox-useast1-s3.towerbridge-techdocs'
    #   region: 'us-east-1'
    #   bucketRootPath: '/'
    #   sse: 'aws:kms'

catalog:
  orphanStrategy: delete
  providers:
    github:
      vfg-vbps-ppe:
        organization: 'VFG-VBPS-PPE'
        catalogPath: '/catalog-info.yaml'
        filters:
          branch: 'dev-vishesh.bhagat-missing-image-in-serlfservice-docs'
          visibility:
            - internal
        validateLocationExist: true
        schedule:
          frequency: { minutes: 30 }
          timeout: { minutes: 3 }
    gitlab:
      gitlab-ucc-devops:
        host: gitlab-ucc.tools.aws.vodafone.com # Identifies one of the hosts set up in the integrations
        branch: master # Optional. Used to discover on a specific branch
        fallbackBranch: main # Optional. Fallback to be used if there is no default branch configured at the Gitlab repository. It is only used, if `branch` is undefined. Uses `master` as default
        skipForkedRepos: false # Optional. If the project is a fork, skip repository
        group: devops  # Optional. Group and subgroup (if needed) to look for repositories. If not present the whole instance will be scanned
        entityFilename: catalog-info.yaml # Optional. Defaults to `catalog-info.yaml`
        # projectPattern: '[\s\S]*' # Optional. Filters found projects based on provided patter. Defaults to `[\s\S]*`, which means to not filter anything
        schedule: # optional; same options as in TaskScheduleDefinition
          # supports cron, ISO duration, "human duration" as used in code
          frequency: { minutes: 1 }
          # supports ISO duration, "human duration" as used in code
          timeout: { minutes: 3 }
      gitlab-ucc-ppe-platform:
        host: gitlab-ucc.tools.aws.vodafone.com # Identifies one of the hosts set up in the integrations
        branch: 'dev-vishesh.bhagat-CPA-2031-entity-modelling-sh-infra' # Optional. Used to discover on a specific branch
        fallbackBranch: master # Optional. Fallback to be used if there is no default branch configured at the Gitlab repository. It is only used, if `branch` is undefined. Uses `master` as default
        skipForkedRepos: false # Optional. If the project is a fork, skip repository
        group: ucc-platform/infrastructure # Optional. Group and subgroup (if needed) to look for repositories. If not present the whole instance will be scanned
        entityFilename: catalog-info.yaml # Optional. Defaults to `catalog-info.yaml`
        # projectPattern: '[\s\S]*' # Optional. Filters found projects based on provided patter. Defaults to `[\s\S]*`, which means to not filter anything
        schedule: # optional; same options as in TaskScheduleDefinition
          # supports cron, ISO duration, "human duration" as used in code
          frequency: { minutes: 1 }
          # supports ISO duration, "human duration" as used in code
          timeout: { minutes: 3 }
      gitlabce-iot-solution-hub:
        host: gitlabce.tools.aws.vodafone.com # Identifies one of the hosts set up in the integrations
        branch: 'feature-towerbridge-entity-modelling' # Optional. Used to discover on a specific branch
        fallbackBranch: master # Optional. Fallback to be used if there is no default branch configured at the Gitlab repository. It is only used, if `branch` is undefined. Uses `master` as default
        skipForkedRepos: false # Optional. If the project is a fork, skip repository
        group: iot-solutionhub # Optional. Group and subgroup (if needed) to look for repositories. If not present the whole instance will be scanned
        entityFilename: catalog-info.yaml # Optional. Defaults to `catalog-info.yaml`
        # projectPattern: '[\s\S]*' # Optional. Filters found projects based on provided patter. Defaults to `[\s\S]*`, which means to not filter anything
        schedule: # optional; same options as in TaskScheduleDefinition
          # supports cron, ISO duration, "human duration" as used in code
          frequency: { minutes: 1 }
          # supports ISO duration, "human duration" as used in code
          timeout: { minutes: 3 }
  import:
    entityFilename: catalog-info.yaml
    pullRequestBranchName: backstage-integration
  rules:
    - allow: [System, Domain, Component, API, Resource, Location, Template]
  locations:
  - type: url
    target: https://github.com/VFG-VBPS-PPE/towerbridge-access-control/blob/master/catalog-info.yaml
    rules:
      - allow: [User, Group, System, Domain, Resource, Location]
  - type: url
    target: httpss://gitlab-ucc.tools.aws.vodafone.com/ucc-platform/infrastructure/sandbox-iac-live/-/blob/master/catalog-info.yaml
    rules:
      - allow: [User, Group, System, Domain, Resource, Location]
  - type: file
    target: ../../examples/self-service.yaml
